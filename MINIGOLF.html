<!DOCTYPE html>
<html>
<body style='white-space: nowrap;background-color:lightGrey'>
<input id='size' placeholder='map size (one number)'>
<input id = 'speed' placeholder='speed (min=10 max=1000)'>
<button onclick='start()'>build</button>
<button onclick='loop = setInterval(function(){checkN();life()},speed);'>start</button>
<button onclick='clearInterval(loop)'>pause</button>
<button onclick='start()'>clear</button>
<div id='map'></div>
</br></br>
<script>
let size = 100;
let speed = 100;
let n = 0;
let map = Array.from(Array(size), ()=>new Array(size));
let killlist = [];
let birthlist = [];
let loop;
let gamemap = document.getElementById('map');

function start(){gamemap.innerHTML = '';clearInterval(loop);size = document.getElementById('size').value;speed = document.getElementById('speed').value;init()}

function createCell(){var x = document.createElement("INPUT");x.setAttribute("type", "checkbox");gamemap.appendChild(x);return x}

function createBr(){var x = document.createElement('br');gamemap.appendChild(x)}

function init(){for (let i = 0; i < size; i++){for (let j = 0; j < size; j++){map[i][j] = createCell()}createBr()}}

function clear(){for (let i = 0; i < size; i++){for (let j = 0; j < size; j++){map[i][j].checked = false}}}

function checkN()
{
  for (let i = 0; i < size; i++)
  {
    for (let j = 0; j < size; j++)
    {
      if (j < size - 1 && map[i][j + 1].checked == true){n++}
      if (j > 0 && map[i][j - 1].checked == true){n++}
      if (i < size - 1 && map[i + 1][j].checked == true){n++}
      if (i > 0 && map[i - 1][j].checked == true){n++}
      if (i < size - 1 && j < size - 1 && map[i + 1][j + 1].checked == true){n++}
      if (i < size - 1 && j > 0 && map[i + 1][j - 1].checked == true){n++}
      if (i > 0 && j < size - 1 && map[i - 1][j + 1].checked == true){n++}
      if (i > 0 && j > 0 && map[i - 1][j - 1].checked == true){n++}
      if (map[i][j].checked == true){if (n < 2){killlist.push([i,j])};if (n > 3){killlist.push([i,j])}}
      if (map[i][j].checked == false){if (n == 3){birthlist.push([i,j])}}
      n = 0;
    }
  }
}

function life(){killlist.forEach(function(i){map[i[0]][i[1]].checked = false});birthlist.forEach(function(i){map[i[0]][i[1]].checked = true});killlist = [];birthlist = []}
</script>
</body>
</html>